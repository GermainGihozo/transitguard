<!DOCTYPE html>
<html>
<head>
  <title>Boarding History</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
  <h2>Boarding History</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>ID</th>
        <th>Passenger ID</th>
        <th>Status</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody id="logs"></tbody>
  </table>
</div>

<script>
async function loadLogs() {
  const token = localStorage.getItem("token");

  const res = await fetch("http://localhost:5000/api/boarding/logs", {
    headers: { "Authorization": "Bearer " + token }
  });

  const data = await res.json();

  let rows = "";
  data.forEach(log => {
    rows += `
      <tr>
        <td>${log.id}</td>
        <td>${log.passenger_id || "-"}</td>
        <td>${log.status}</td>
        <td>${log.scanned_at}</td>
      </tr>
    `;
  });

  document.getElementById("logs").innerHTML = rows;
}

loadLogs();
</script>

</body>
</html>